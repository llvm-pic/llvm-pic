#ifndef __PROJECTS_LLVM_LLVM_PIC_LLVM_LIB_TARGET_PICMID_PICMIDSUBTARGET_H_
#define __PROJECTS_LLVM_LLVM_PIC_LLVM_LIB_TARGET_PICMID_PICMIDSUBTARGET_H_

#include "llvm/CodeGen/GlobalISel/InlineAsmLowering.h"
#include "llvm/CodeGen/GlobalISel/InstructionSelector.h"
#include "llvm/CodeGen/GlobalISel/Utils.h"
#include "llvm/CodeGen/Register.h"
#include "llvm/CodeGen/TargetSubtargetInfo.h"

#include "GISel/PICMidLegalizerInfo.h"
#include "PICMidFrameLowering.h"
#include "PICMidTargetLowering.h"

#define GET_SUBTARGETINFO_HEADER
#include "PICMidGenSubtargetInfo.inc"

namespace llvm {

class PICMidTargetMachine;

// TODO: Complete
class PICMidSubtarget : public PICMidGenSubtargetInfo {
public:
  PICMidSubtarget(const Triple &TT, const std::string &CPU,
                  const std::string &FS, const PICMidTargetMachine &TM);

  const LegalizerInfo *getLegalizerInfo() const override { return &Legalizer; }
  const PICMidTargetLowering *getTargetLowering() const override {
    return &TargetLoweringInfo;
  }
  const PICMidFrameLowering *getFrameLowering() const override {
    return &FrameLowering;
  }

  // Autogenerated by TableGen
  void ParseSubtargetFeatures(StringRef CPU, StringRef TuneCPU, StringRef FS);

private:
  bool FeatureSetDummy = false;
  bool HasEnhancedMidInstrs = false;
  bool HasMidInstrs = false;
  bool StaticStack = false;

  PICMidLegalizerInfo Legalizer;
  PICMidTargetLowering TargetLoweringInfo;
  PICMidFrameLowering FrameLowering;
};

} // namespace llvm

#endif // __PROJECTS_LLVM_LLVM_PIC_LLVM_LIB_TARGET_PICMID_PICMIDSUBTARGET_H_